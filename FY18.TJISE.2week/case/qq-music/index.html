<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>

		<style>
			.item {
				border-radius: 6px;
				;
				text-indent: 10px;
				margin-top: 10px;
				height: 40px;
				width: 200px;
				background-color: mediumaquamarine;
				line-height: 40px;
				font-size: 16px;
				font-family: "微软雅黑";
			}
		</style>

	</head>

	<body>

		<audio controls="controls" id="player" autoplay="autoplay"></audio>
		<br>

		<div id="curr"></div>

		<!--<input type="button" value="上一首" />-->
		<input type="button" value="下一首" id="next" />

		<hr />
		<div id="list">
			<div class="item" data-source="music/公路.mp3">公路</div>
			<div class="item" data-source="music/双截棍.mp3">双截棍</div>
			<div class="item" data-source="music/悟空传.mp3">悟空传</div>
		</div>

	</body>

</html>

<script type="text/javascript" src="lib/jquery.js"></script>

<script>
	$(function() {

		$(".item").click(function() {

			$("#player").attr('src', $(this).data("source"));
			$("#player")[0].play();

			$("#curr").html($(this).data("source"))

			$(this).addClass("playing")
			$(this).prevUntil().removeClass("playing");
			$(this).nextUntil().removeClass("playing");

		})

		$("#next").click(function() {
			var target = $(".playing");
			
			if( target.data("source") == $(".item:last-child").data("source") ) {
				
				$("#player").attr('src', $(".item:first-child").data("source"));
				
				$(".item:first-child").addClass("playing");
				target.removeClass("playing")

			} else {
				$("#player").attr('src', target.next().data("source"));

				target.next().addClass("playing");
				target.removeClass("playing")

			}

			$("#player")[0].play();
			$("#curr").html($(".playing").data("source"))

		})

	})
</script>